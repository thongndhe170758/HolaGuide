@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    @using Models.SQLServer;
    @model List<Service>
}

<div class="row">
    <!--Unauthenticated-->
    @if(!ViewBag.IsAuthenticated)
    {
        <span class="text-center py-4">Bạn cần đăng nhập để tiếp tục. <a asp-page="/Authentication/Login" style="text-decoration: underline; font-weight: bold">Đăng Nhập</a></span>
    }
    else
    {
        @foreach (var service in Model)
        {
            <div class="col-md-3 mb-3">
                <div class="card h-100">
                    <img src="https://th.bing.com/th/id/OIP.s3C0UYqb62MfL0SUiVgfAgHaFj?w=232&h=180&c=7&r=0&o=5&dpr=1.3&pid=1.7" class="card-img-top" style="height: 50%;" alt="Service Image">
                    <div class="card-body">
                        <a class="service-title" asp-page="/Service/Detail" asp-route-serviceId="@service.Id"><h6 class="card-title">@service.Name</h6></a>
                        <p class="card-text sub-title">@service.Title</p>
                        <p class="card-text">Price: @service.Price</p>
                    </div>
                    <div class="card-footer">
                        <div><i class="fa-regular fa-comment"></i></div>
                        <div style="background-color: #dddddd; border-radius: 5px; width: fit-content; padding: .25rem .5rem">
                            <form method="post" asp-page="/Home/UserHome" asp-page-handler="SaveService">
                                <i class="fa-solid fa-bookmark" style="font-size: .9rem"></i>
                                <button type="submit" class="btn save-button">Lưu</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        }
    }
</div>
<style>
    h6 {
        margin-bottom: 0;
    }

    .sub-title {
        color: #838181;
        margin-bottom: 1rem;
        font-size: .8rem
    }

    .card-footer {
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
        background-color: white;
        border-top: .5px solid rgba(0, 0, 0, .125);
        padding-bottom: 1rem;
    }

    .card-body {
        padding-bottom: 0;
    }

    i {
        font-size: 1.25rem
    }

    .save-button {
        padding: 0 0.25rem;
        font-size: .8rem;
    }

    form {
        display: flex;
        flex-direction: row;
        align-items: center;
    }

    .service-title:hover {
        text-decoration: underline;
        color: black;
    }
</style>


